# API para Agente de IA - iAmber

Este proyecto crea una API para un agente de inteligencia artificial llamado *iAmber*, un asistente virtual especializado en productos de tecnolog√≠a en *Amber Store*. La API permite interactuar con este agente, procesar mensajes de usuarios y realizar diversas tareas como capturar datos de leads, proporcionar informaci√≥n sobre productos y gestionar consultas sobre compras y soporte.

## Descripci√≥n

La API est√° basada en un modelo de inteligencia artificial utilizando **AWS Bedrock** y **Claude-3-5**. El agente interact√∫a con los usuarios de manera profesional, amable y entusiasta. Adem√°s, tiene la capacidad de procesar mensajes de texto, responder preguntas frecuentes y ejecutar herramientas espec√≠ficas, como la captura de informaci√≥n de leads.

### Funcionalidades

1. **Interacci√≥n con el usuario**:
   El agente responde a preguntas sobre productos tecnol√≥gicos (celulares, laptops, tablets, smartwatches, aud√≠fonos, entre otros).
   
2. **Captura de datos de leads**:
   Si el agente detecta que un usuario est√° interesado en recibir m√°s informaci√≥n, captura su nombre, n√∫mero de tel√©fono e inter√©s en productos, sin que el usuario tenga que intervenir.

3. **Respuestas claras y √∫tiles**:
   El agente proporciona respuestas r√°pidas y claras, con un tono amable y profesional. Utiliza emojis con moderaci√≥n para dar un toque amigable.

4. **Uso de herramientas**:
   La API permite definir y usar herramientas que el agente puede ejecutar. En este caso, la herramienta `capture_lead` es utilizada para recolectar informaci√≥n del cliente cuando es necesario.

5. **Escalamiento a un humano**:
   En caso de que la consulta sea demasiado compleja o el usuario tenga una queja, el agente puede derivar la consulta a un humano.

## Endpoint

- **POST /converse**
  
  Este endpoint recibe un array de mensajes y devuelve la respuesta del agente basada en el contexto de la conversaci√≥n.

  ### Cuerpo del request (JSON)

  ```json
  {
    "chat_history": [
      {
        "role": "user",
        "content": "Hola, estoy interesado en un celular."
      },
      {
        "role": "assistant",
        "content": "¬°Hola! üëã Soy iBot, tu asistente en Amber Store. ¬øQu√© tipo de celular buscas?"
      },
      {
        "role": "user",
        "content": "Uno gama media"
      }
    ]
  }

## A desplegarlo!

Pega este comando en la consola de Cloud Shell

```sh
git clone https://github.com/amberpe/IAWorkshop && cd IAWorkshop && source ./deploy.sh
